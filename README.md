# imgspace

## 一、小组成员及其分工

### 1. 成员信息：

| 姓名  | 学号 |
| :-----: | :----: |
| 周青  | xxxxxx24 |
| 侯玉峰  | xxxxxx23 |
| 耿堂睿  | xxxxxx14 |
| 林宇旋  | xxxxxx22 |
| 周洲  | xxxxxx26 |
| 张玲玲  | xxxxxx07 |


### 2. 任务分工：

<b>周青</b>：服务端软件搭建与程序编写；服务端和手机端的 json 信息的交互；文件上传、下载；多线程操作；缩略图缓存；项目的融合。

<b>侯玉峰</b>：本地图片：进行图片大图的显示，并能使用手势：左右滑动切换图片、双指操作缩放和旋转、双击放大和缩小、点击指定按钮实现图片的缩放和旋转。通过点击“编辑”按钮实现对图片进行旋转和缩放的编辑操作，编辑后的图片另外保存在该图片同目录下。 图片空间：大图的查看与本地类似，但不支持编辑操作，只有删除图片的按钮。耿堂睿：本地图片：调用系统的文件管理器进行查找系统的文件，选择被用户点击的文件夹，显示本文件夹内图片列表和缩略图。 图片空间：类似于朋友圈的界面，对用户名、消息和图片列表的显示以及对消息和图片查看详情、编辑消息和上传图片按钮的显示。 进阶操作：需要对图片缩略图进行缓存

<b>林宇旋</b>和<b>周洲</b>：写注册、登录、发送消息、编辑消息、用户详情界面，以及用户对这些界面的交互操作。掌握好对界面进行交互式操作和页面之间的切换效果。

<b>张玲玲</b>：本地数据库结构的构建，图片数据库的操作；界面美化；对软件进行较为严格的调试，保证软件稳定性。

## 二、项目需求

### 1. 软件名称：图片空间

### 2. 主要功能：图片管理软件，能管理和分享本机的图片
- 多种方式（列表、缩略图）形式显示图片。
- 展示大图，支持缩放，并支持简单的编辑（旋转，缩放等）。
- 支持上传图片到服务器。
- 使用本地 SQLite 数据库存储图片的额外信息，并支持增、删、改、查。
- 使用缩略图缓存，加速列表中图片显示。
- 类似于朋友圈的分享图片的功能。
### 3. 开发环境和工具：
- IDE：Android Studio 4.1.1，IntelliJ IDEA 2020.3
- JAVA：jdk-1.8.0_241_windows-x64
- 数据库：MySQL8.0，SQLite 3.34.0

## 三、项目要点

### 1.	线程
本程序中使用多线程进行网络访问和大量的数据传输的操作，以防止程序出现卡顿，无响应的情况。主要采用重载继承于AsyncTask类的构造函数传进所需对象，重载doInBackgroung函数进行网络访问与大数据传输，重载onPostExcute函数进行多线程过程完成后的操作。

### 2.	文件
在对本地图片文件进行管理时，主要采用由用户选择某图片，程序将该路径下所有的图片展示出来，并对图片进行编辑、保存操作。

### 3.	网络
访问网络均采用在特定网址以Post方式发送Json字符串，进而由服务器对发送的数据进行解析和操作各项事务。对文件进行上传下载操作：上传主要以Post方式附加发送各个文件的数据块，由服务端指定页面接收并将发送的文件按照Json字符串解析的方式传输至服务器指定位置。下载主要采用访问服务端提供的url进行文件传输，并下载至指定缓存目录。

### 4.	数据库
服务器采用MySql数据库，进行管理各个用户，发送的消息和图片的信息。本地采用SqLite数据库，对图片信息进行管理。

### 5.	界面
界面主体参考自各大主流APP界面的布局，并由每个成员齐心协力修复、美化完成。
主页面采用navigation管理三个fragment页面，并实现三个界面的显示。
登录、注册等xml布局主要采用RelativeLayout和LinerLayout相结合的方式，部分界面使用了scrollView。发送界面采用了gridView来实现图片的添加。
对话框采用自定义xml文件并设置View进行个性化定制对话框。

## 四、设计思想
整体设计分析：
设计比较符合用户操作流程。
流程图：
网络访问：创建HTTPS连接->设置HTTPS属性->写入JSON数据和文件数据->进行连接->获取服务端响应->判断响应信息->交付给程序进行管理
